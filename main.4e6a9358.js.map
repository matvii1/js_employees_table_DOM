{"version":3,"sources":["scripts/main.js"],"names":["sorted","check","tbody","document","querySelector","thead","isClicked","count","addEventListener","event","target","cellIndex","length","push","children","sort","a","b","prev","cells","textContent","replace","next","isNaN","localeCompare","append","e","clickedRow","parentNode","classList","remove","add","formHtml","createElement","innerHTML","body","pushNotification","title","description","type","message","setAttribute","setTimeout","style","display","form","preventDefault","data","FormData","dataObj","Object","fromEntries","entries","name","age","salary","newPerson","charAt","toUpperCase","slice","position","office","input","inputValueBeforeEditing","innerText","replaceWith","focus","key","tableCell","value"],"mappings":";AAAA,aAmMA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAhMA,IAEIA,EACAC,EAHEC,EAAQC,SAASC,cAAc,SAC/BC,EAAQF,SAASC,cAAc,SAI/BE,EAAY,GACdC,EAAQ,EAEZF,EAAMG,iBAAiB,QAAS,SAACC,GAC/BR,EAAQQ,EAAMC,OAAOC,UAIrBJ,EAAQN,IAAUK,EAAUA,EAAUM,OAAS,GAC3CL,EAAQ,EACR,EAEJD,EAAUO,KAAKJ,EAAMC,OAAOC,WAG5BX,EAAS,EAAIE,EAAMY,UAAUC,KAAK,SAACC,EAAGC,GAC9BC,IAAAA,EAAOF,EAAEG,MAAMlB,GAAOmB,YAAYC,QAAQ,QAAS,IACnDC,EAAOL,EAAEE,MAAMlB,GAAOmB,YAAYC,QAAQ,QAAS,IAErDd,OAAAA,EAAQ,GAAM,EACTgB,MAAML,GACTA,EAAKM,cAAcF,GACnBJ,EAAOI,EAGNC,MAAML,GACTI,EAAKE,cAAcN,GACnBI,EAAOJ,IAGbhB,EAAMuB,OAANvB,MAAAA,EAAgBF,EAAAA,MAGlBE,EAAMM,iBAAiB,QAAS,SAACkB,GACzBC,IAAAA,EAAaD,EAAEhB,OAAOkB,WAExB1B,EAAME,cAAc,YACtBF,EAAME,cAAc,WAAWyB,UAAUC,OAAO,UAGlDH,EAAWE,UAAUE,IAAI,YAK3B,IAAMC,EAAW7B,SAAS8B,cAAc,QAExCD,EAASH,UAAUE,IAAI,qBAEvBC,EAASE,UAAT,46BAgCA/B,SAASgC,KAAKV,OAAOO,GAIrB,IAAMI,EAAmB,SAACC,EAAOC,EAAaC,GACtCC,IAAAA,EAAUrC,SAAS8B,cAAc,OAEvCO,EAAQC,aAAa,UAAW,gBAChCD,EAAQX,UAAUE,IAAI,gBACtBS,EAAQX,UAAUE,IAAIQ,GAEtBC,EAAQN,UACFG,WAAAA,OAAAA,EACDC,gBAAAA,OAAAA,EAFL,YAKAnC,SAASgC,KAAKV,OAAOe,GAErBE,WAAW,WACTF,EAAQG,MAAMC,QAAU,QACvB,MAGCC,EAAO1C,SAASC,cAAc,QAEpCyC,EAAKrC,iBAAiB,SAAU,SAACkB,GAC/BA,EAAEoB,iBAEIC,IAAAA,EAAO,IAAIC,SAASH,GACpBI,EAAUC,OAAOC,YAAYJ,EAAKK,WAEpCH,GAAAA,EAAQI,KAAKzC,OAAS,EACxBwB,EAAiB,QACf,oBACA,cAKA,IAACa,EAAQK,IAAM,KAAOL,EAAQK,IAAM,GACtClB,EAAiB,QACf,iCACA,cAKAb,GAAAA,MAAM0B,EAAQM,QAChBnB,EAAiB,QACf,iBACA,aAHAb,CAQEiC,IAAAA,EAAYrD,SAAS8B,cAAc,MAEzCuB,EAAUtB,UAEFe,yBAAAA,OAAAA,EAAQI,KAAKI,OAAO,GAAGC,cAAgBT,EAAQI,KAAKM,MAAM,GAG1DV,uCAAAA,OAAAA,EAAQW,SAASH,OAAO,GAAGC,cAAgBT,EAAQW,SAASD,MAAM,GAGlEV,uCAAAA,OAAAA,EAAQY,OAGRZ,uCAAAA,OAAAA,EAAQK,IAGR,uCAAA,OAAA,IAAML,EAAQM,OAAOlC,QAAQ,wBAAyB,KAd9D,uBAkBAnB,EAAMuB,OAAO+B,MAGf,IAAMM,EAAQ3D,SAAS8B,cAAc,SACjC8B,EAA0B,GAE9B7D,EAAMM,iBAAiB,WAAY,SAACkB,GAClCqC,EAA0BrC,EAAEhB,OAAOsD,UAEW,OAA1C7D,SAASC,cAAc,iBACzB0D,EAAMrB,aAAa,QAASf,EAAEhB,OAAOsD,WACrCF,EAAMjC,UAAUE,IAAI,cACpBL,EAAEhB,OAAOuD,YAAYH,GACrBA,EAAMI,WAIVJ,EAAMtD,iBAAiB,WAAY,SAACkB,GAC9BA,GAAU,UAAVA,EAAEyC,IAAiB,CACrBzC,EAAEoB,iBAEIsB,IAAAA,EAAYjE,SAAS8B,cAAc,MAEzCmC,EAAUlC,UAAmC,IAAvB4B,EAAMO,MAAMzD,OAC9BmD,EACAD,EAAMO,MAEV3C,EAAEhB,OAAOuD,YAAYG,MAIzBN,EAAMtD,iBAAiB,OAAQ,SAACkB,GACxB0C,IAAAA,EAAYjE,SAAS8B,cAAc,MAEzCmC,EAAUlC,UAAmC,IAAvB4B,EAAMO,MAAMzD,OAC9BmD,EACAD,EAAMO,MAEV3C,EAAEhB,OAAOuD,YAAYG","file":"main.4e6a9358.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n// write code here\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nlet sorted;\nlet check;\n\nconst isClicked = [];\nlet count = 0;\n\nthead.addEventListener('click', (event) => {\n  check = event.target.cellIndex;\n\n  // make count zero if clicked button is not previous one\n\n  count = check === isClicked[isClicked.length - 1]\n    ? count + 1\n    : 0;\n\n  isClicked.push(event.target.cellIndex);\n\n  // sort table\n  sorted = [...tbody.children].sort((a, b) => {\n    const prev = a.cells[check].textContent.replace(/[$,]/g, '');\n    const next = b.cells[check].textContent.replace(/[$,]/g, '');\n\n    if (count % 2 === 0) {\n      return isNaN(prev)\n        ? prev.localeCompare(next)\n        : prev - next;\n    }\n\n    return isNaN(prev)\n      ? next.localeCompare(prev)\n      : next - prev;\n  });\n\n  tbody.append(...sorted);\n});\n\ntbody.addEventListener('click', (e) => {\n  const clickedRow = e.target.parentNode;\n\n  if (tbody.querySelector('.active')) {\n    tbody.querySelector('.active').classList.remove('active');\n  }\n\n  clickedRow.classList.add('active');\n});\n\n// making form\n\nconst formHtml = document.createElement('form');\n\nformHtml.classList.add('new-employee-form');\n\nformHtml.innerHTML = `\n    <label>\n      Name: <input name=\"name\" type=\"text\" data-qa=\"name\" required>\n    </label>\n\n    <label>\n      Position: <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n    </label>\n\n      <label>\n        Office: \n        <select name=\"office\" data-qa=\"office\" required>\n          <option value=\"Tokyo\">Tokyo</option>\n          <option value=\"Singapore\">Singapore</option>\n          <option value=\"London\">London</option>\n          <option value=\"New York\">New York</option>\n          <option value=\"Edinburgh\">Edinburgh</option>\n          <option value=\"San Francisco\">San Francisco</option>\n        </select>\n      </label>\n\n    <label>\n      Age: <input name=\"age\" type=\"number\" data-qa=\"age\" required>\n    </label>\n\n    <label>\n      Salary: <input name=\"salary\" type=\"text\" data-qa=\"salary\" required>\n      </label>\n\n    <button name=\"button\" type=\"submit\">Save to Table</button>\n    `;\n\ndocument.body.append(formHtml);\n\n// notification\n\nconst pushNotification = (title, description, type) => {\n  const message = document.createElement('div');\n\n  message.setAttribute('data-qa', 'notification');\n  message.classList.add('notification');\n  message.classList.add(type);\n\n  message.innerHTML = `\n  <h2>${title}</h2>\n  <p>${description}</p>\n  `;\n\n  document.body.append(message);\n\n  setTimeout(() => {\n    message.style.display = 'none';\n  }, 2000);\n};\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const dataObj = Object.fromEntries(data.entries());\n\n  if (dataObj.name.length < 4) {\n    pushNotification('Error',\n      'Name is too short',\n      'error');\n\n    return;\n  };\n\n  if (+dataObj.age < 18 || +dataObj.age > 90) {\n    pushNotification('Error',\n      'You are too young or too old!!',\n      'error');\n\n    return;\n  };\n\n  if (isNaN(dataObj.salary)) {\n    pushNotification('Error',\n      'Invalid salary',\n      'error');\n\n    return;\n  }\n\n  const newPerson = document.createElement('tr');\n\n  newPerson.innerHTML = `\n      <td>\n        ${dataObj.name.charAt(0).toUpperCase() + dataObj.name.slice(1)}\n      </td>\n      <td>\n        ${dataObj.position.charAt(0).toUpperCase() + dataObj.position.slice(1)}\n      </td>\n      <td>\n        ${dataObj.office}\n      </td>\n      <td>\n        ${dataObj.age}\n      </td>\n      <td>\n        ${'$' + dataObj.salary.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n      </td>\n    `;\n\n  tbody.append(newPerson);\n});\n\nconst input = document.createElement('input');\nlet inputValueBeforeEditing = '';\n\ntbody.addEventListener('dblclick', (e) => {\n  inputValueBeforeEditing = e.target.innerText;\n\n  if (document.querySelector('.cell-input') === null) {\n    input.setAttribute('value', e.target.innerText);\n    input.classList.add('cell-input');\n    e.target.replaceWith(input);\n    input.focus();\n  }\n});\n\ninput.addEventListener('keypress', (e) => {\n  if (e.key === 'Enter') {\n    e.preventDefault();\n\n    const tableCell = document.createElement('td');\n\n    tableCell.innerHTML = input.value.length === 0\n      ? inputValueBeforeEditing\n      : input.value;\n\n    e.target.replaceWith(tableCell);\n  }\n});\n\ninput.addEventListener('blur', (e) => {\n  const tableCell = document.createElement('td');\n\n  tableCell.innerHTML = input.value.length === 0\n    ? inputValueBeforeEditing\n    : input.value;\n\n  e.target.replaceWith(tableCell);\n});\n"]}